{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useTranslation}from'react-i18next';import{fetchEvents,createEvent,updateEvent,deleteEvent,fetchOrganizers}from'../../../services/api';import'./EventsTab.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EventsTab(){const{t}=useTranslation();const[events,setEvents]=useState([]);// Ensure events is initialized as an array\nconst[organizers,setOrganizers]=useState([]);const[formData,setFormData]=useState({name:'',description:'',dateOfEvent:'',price:'',currency:'SAR',ticketsAvailable:'',purchaseStartDate:'',purchaseEndDate:'',organizers:[],image:null});const[editEventId,setEditEventId]=useState(null);const[loading,setLoading]=useState(false);useEffect(()=>{const loadEvents=async()=>{try{const data=await fetchEvents();if(Array.isArray(data)){setEvents(data);}else{console.error('Expected array but got:',data);setEvents([]);// Fallback to an empty array\n}}catch(error){console.error(t('eventsTab.alerts.fetchError'),error);}};const loadOrganizers=async()=>{try{const data=await fetchOrganizers();setOrganizers(data);}catch(error){console.error(t('eventsTab.alerts.fetchOrganizersError'),error);}};loadEvents();loadOrganizers();},[t]);const handleEventSubmit=async e=>{e.preventDefault();if(formData.organizers.length===0){alert(t('eventsTab.alerts.selectOrganizer'));return;}const eventData=new FormData();Object.keys(formData).forEach(key=>{if(key==='organizers'){formData.organizers.forEach((organizer,index)=>{eventData.append(`organizers[${index}]`,organizer);});}else{eventData.append(key,formData[key]);}});setLoading(true);try{const response=await(editEventId?updateEvent(editEventId,eventData):createEvent(eventData));if(Array.isArray(response)){setEvents(response);}else{console.error('Expected array but got:',response);}alert(editEventId?t('eventsTab.alerts.updated'):t('eventsTab.alerts.created'));resetForm();}catch(error){console.error(t('eventsTab.alerts.submitError'),error);}finally{setLoading(false);}};const resetForm=()=>{setFormData({name:'',description:'',dateOfEvent:'',price:'',currency:'SAR',ticketsAvailable:'',purchaseStartDate:'',purchaseEndDate:'',organizers:[],image:null});setEditEventId(null);};const handleEditEvent=event=>{setEditEventId(event._id);setFormData({name:event.name,description:event.description,dateOfEvent:event.dateOfEvent.slice(0,10),price:event.price,currency:event.currency,ticketsAvailable:event.ticketsAvailable,purchaseStartDate:event.purchaseStartDate.slice(0,10),purchaseEndDate:event.purchaseEndDate.slice(0,10),organizers:event.organizers,image:null});};const handleDeleteEvent=async id=>{if(!window.confirm(t('eventsTab.alerts.confirmDelete')))return;setLoading(true);try{await deleteEvent(id);alert(t('eventsTab.alerts.deleted'));setEvents(events.filter(event=>event._id!==id));}catch(error){console.error(t('eventsTab.alerts.deleteError'),error);}finally{setLoading(false);}};const handleOrganizerSelection=organizerId=>{setFormData(prevFormData=>{const organizers=prevFormData.organizers.includes(organizerId)?prevFormData.organizers.filter(id=>id!==organizerId):[...prevFormData.organizers,organizerId];return{...prevFormData,organizers};});};const handleImageChange=e=>{const file=e.target.files[0];setFormData({...formData,image:file});};return/*#__PURE__*/_jsxs(\"div\",{className:\"events-tab\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"tab-title\",children:t(editEventId?'eventsTab.title.edit':'eventsTab.title.create')}),/*#__PURE__*/_jsxs(\"form\",{className:\"event-form\",onSubmit:handleEventSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:t('eventsTab.form.eventName'),value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:t('eventsTab.form.description'),value:formData.description,onChange:e=>setFormData({...formData,description:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.dateOfEvent,onChange:e=>setFormData({...formData,dateOfEvent:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:t('eventsTab.form.price'),value:formData.price,onChange:e=>setFormData({...formData,price:e.target.value}),required:true}),/*#__PURE__*/_jsxs(\"select\",{value:formData.currency,onChange:e=>setFormData({...formData,currency:e.target.value}),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"SAR\",children:\"SAR\"}),/*#__PURE__*/_jsx(\"option\",{value:\"AED\",children:\"AED\"}),/*#__PURE__*/_jsx(\"option\",{value:\"KWD\",children:\"KWD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"BHD\",children:\"BHD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"OMR\",children:\"OMR\"}),/*#__PURE__*/_jsx(\"option\",{value:\"QAR\",children:\"QAR\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:t('eventsTab.form.ticketsAvailable'),value:formData.ticketsAvailable,onChange:e=>setFormData({...formData,ticketsAvailable:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.purchaseStartDate,onChange:e=>setFormData({...formData,purchaseStartDate:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.purchaseEndDate,onChange:e=>setFormData({...formData,purchaseEndDate:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageChange}),formData.image&&/*#__PURE__*/_jsx(\"div\",{className:\"image-preview\",children:/*#__PURE__*/_jsx(\"p\",{children:formData.image.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"organizers-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:t('eventsTab.form.organizers')}),organizers.map(organizer=>/*#__PURE__*/_jsxs(\"div\",{className:\"organizer-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:organizer._id,checked:formData.organizers.includes(organizer._id),onChange:()=>handleOrganizerSelection(organizer._id)}),/*#__PURE__*/_jsxs(\"span\",{children:[organizer.fullName,\" (\",organizer.email,\")\"]})]},organizer._id))]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:loading,children:loading?t('eventsTab.alerts.loading'):t(editEventId?'eventsTab.form.submit.update':'eventsTab.form.submit.create')})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"tab-title\",children:t('eventsTab.title.existing')}),Array.isArray(events)?/*#__PURE__*/_jsx(\"ul\",{className:\"events-list\",children:events.map(event=>/*#__PURE__*/_jsxs(\"li\",{className:\"event-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:event.image||'/default-image.jpg',alt:event.name,style:{width:'100px',height:'100px',objectFit:'cover'}}),/*#__PURE__*/_jsx(\"h3\",{children:event.name}),/*#__PURE__*/_jsxs(\"p\",{children:[t('eventsTab.event.currency'),\": \",event.currency]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditEvent(event),className:\"edit-button\",children:t('eventsTab.actions.edit')}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteEvent(event._id),className:\"delete-button\",children:t('eventsTab.actions.delete')})]},event._id))}):/*#__PURE__*/_jsx(\"p\",{children:t('eventsTab.alerts.noEvents')})]});}export default EventsTab;","map":{"version":3,"names":["React","useState","useEffect","useTranslation","fetchEvents","createEvent","updateEvent","deleteEvent","fetchOrganizers","jsx","_jsx","jsxs","_jsxs","EventsTab","t","events","setEvents","organizers","setOrganizers","formData","setFormData","name","description","dateOfEvent","price","currency","ticketsAvailable","purchaseStartDate","purchaseEndDate","image","editEventId","setEditEventId","loading","setLoading","loadEvents","data","Array","isArray","console","error","loadOrganizers","handleEventSubmit","e","preventDefault","length","alert","eventData","FormData","Object","keys","forEach","key","organizer","index","append","response","resetForm","handleEditEvent","event","_id","slice","handleDeleteEvent","id","window","confirm","filter","handleOrganizerSelection","organizerId","prevFormData","includes","handleImageChange","file","target","files","className","children","onSubmit","type","placeholder","value","onChange","required","accept","map","checked","fullName","email","disabled","src","alt","style","width","height","objectFit","onClick"],"sources":["C:/Users/Administrator/Desktop/Sa-adh/frontend/src/pages/admin/Tabs/EventsTab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { fetchEvents, createEvent, updateEvent, deleteEvent, fetchOrganizers } from '../../../services/api';\r\nimport './EventsTab.css';\r\n\r\nfunction EventsTab() {\r\n  const { t } = useTranslation();\r\n  const [events, setEvents] = useState([]); // Ensure events is initialized as an array\r\n  const [organizers, setOrganizers] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    dateOfEvent: '',\r\n    price: '',\r\n    currency: 'SAR',\r\n    ticketsAvailable: '',\r\n    purchaseStartDate: '',\r\n    purchaseEndDate: '',\r\n    organizers: [],\r\n    image: null,\r\n  });\r\n  const [editEventId, setEditEventId] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const loadEvents = async () => {\r\n      try {\r\n        const data = await fetchEvents();\r\n        if (Array.isArray(data)) {\r\n          setEvents(data);\r\n        } else {\r\n          console.error('Expected array but got:', data);\r\n          setEvents([]); // Fallback to an empty array\r\n        }\r\n      } catch (error) {\r\n        console.error(t('eventsTab.alerts.fetchError'), error);\r\n      }\r\n    };\r\n\r\n    const loadOrganizers = async () => {\r\n      try {\r\n        const data = await fetchOrganizers();\r\n        setOrganizers(data);\r\n      } catch (error) {\r\n        console.error(t('eventsTab.alerts.fetchOrganizersError'), error);\r\n      }\r\n    };\r\n\r\n    loadEvents();\r\n    loadOrganizers();\r\n  }, [t]);\r\n\r\n  const handleEventSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (formData.organizers.length === 0) {\r\n      alert(t('eventsTab.alerts.selectOrganizer'));\r\n      return;\r\n    }\r\n\r\n    const eventData = new FormData();\r\n    Object.keys(formData).forEach((key) => {\r\n      if (key === 'organizers') {\r\n        formData.organizers.forEach((organizer, index) => {\r\n          eventData.append(`organizers[${index}]`, organizer);\r\n        });\r\n      } else {\r\n        eventData.append(key, formData[key]);\r\n      }\r\n    });\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await (editEventId\r\n        ? updateEvent(editEventId, eventData)\r\n        : createEvent(eventData));\r\n\r\n      if (Array.isArray(response)) {\r\n        setEvents(response);\r\n      } else {\r\n        console.error('Expected array but got:', response);\r\n      }\r\n      alert(editEventId ? t('eventsTab.alerts.updated') : t('eventsTab.alerts.created'));\r\n      resetForm();\r\n    } catch (error) {\r\n      console.error(t('eventsTab.alerts.submitError'), error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      name: '',\r\n      description: '',\r\n      dateOfEvent: '',\r\n      price: '',\r\n      currency: 'SAR',\r\n      ticketsAvailable: '',\r\n      purchaseStartDate: '',\r\n      purchaseEndDate: '',\r\n      organizers: [],\r\n      image: null,\r\n    });\r\n    setEditEventId(null);\r\n  };\r\n\r\n  const handleEditEvent = (event) => {\r\n    setEditEventId(event._id);\r\n    setFormData({\r\n      name: event.name,\r\n      description: event.description,\r\n      dateOfEvent: event.dateOfEvent.slice(0, 10),\r\n      price: event.price,\r\n      currency: event.currency,\r\n      ticketsAvailable: event.ticketsAvailable,\r\n      purchaseStartDate: event.purchaseStartDate.slice(0, 10),\r\n      purchaseEndDate: event.purchaseEndDate.slice(0, 10),\r\n      organizers: event.organizers,\r\n      image: null,\r\n    });\r\n  };\r\n\r\n  const handleDeleteEvent = async (id) => {\r\n    if (!window.confirm(t('eventsTab.alerts.confirmDelete'))) return;\r\n    setLoading(true);\r\n    try {\r\n      await deleteEvent(id);\r\n      alert(t('eventsTab.alerts.deleted'));\r\n      setEvents(events.filter((event) => event._id !== id));\r\n    } catch (error) {\r\n      console.error(t('eventsTab.alerts.deleteError'), error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOrganizerSelection = (organizerId) => {\r\n    setFormData((prevFormData) => {\r\n      const organizers = prevFormData.organizers.includes(organizerId)\r\n        ? prevFormData.organizers.filter((id) => id !== organizerId)\r\n        : [...prevFormData.organizers, organizerId];\r\n      return { ...prevFormData, organizers };\r\n    });\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setFormData({ ...formData, image: file });\r\n  };\r\n\r\n  return (\r\n    <div className=\"events-tab\">\r\n      <h2 className=\"tab-title\">{t(editEventId ? 'eventsTab.title.edit' : 'eventsTab.title.create')}</h2>\r\n      <form className=\"event-form\" onSubmit={handleEventSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder={t('eventsTab.form.eventName')}\r\n          value={formData.name}\r\n          onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n          required\r\n        />\r\n        <textarea\r\n          placeholder={t('eventsTab.form.description')}\r\n          value={formData.description}\r\n          onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n          required\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          value={formData.dateOfEvent}\r\n          onChange={(e) => setFormData({ ...formData, dateOfEvent: e.target.value })}\r\n          required\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          placeholder={t('eventsTab.form.price')}\r\n          value={formData.price}\r\n          onChange={(e) => setFormData({ ...formData, price: e.target.value })}\r\n          required\r\n        />\r\n        <select\r\n          value={formData.currency}\r\n          onChange={(e) => setFormData({ ...formData, currency: e.target.value })}\r\n          required\r\n        >\r\n          <option value=\"SAR\">SAR</option>\r\n          <option value=\"AED\">AED</option>\r\n          <option value=\"KWD\">KWD</option>\r\n          <option value=\"BHD\">BHD</option>\r\n          <option value=\"OMR\">OMR</option>\r\n          <option value=\"QAR\">QAR</option>\r\n        </select>\r\n        <input\r\n          type=\"number\"\r\n          placeholder={t('eventsTab.form.ticketsAvailable')}\r\n          value={formData.ticketsAvailable}\r\n          onChange={(e) => setFormData({ ...formData, ticketsAvailable: e.target.value })}\r\n          required\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          value={formData.purchaseStartDate}\r\n          onChange={(e) => setFormData({ ...formData, purchaseStartDate: e.target.value })}\r\n          required\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          value={formData.purchaseEndDate}\r\n          onChange={(e) => setFormData({ ...formData, purchaseEndDate: e.target.value })}\r\n          required\r\n        />\r\n        <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} />\r\n        {formData.image && (\r\n          <div className=\"image-preview\">\r\n            <p>{formData.image.name}</p>\r\n          </div>\r\n        )}\r\n        <div className=\"organizers-container\">\r\n          <label>{t('eventsTab.form.organizers')}</label>\r\n          {organizers.map((organizer) => (\r\n            <div key={organizer._id} className=\"organizer-item\">\r\n              <input\r\n                type=\"checkbox\"\r\n                value={organizer._id}\r\n                checked={formData.organizers.includes(organizer._id)}\r\n                onChange={() => handleOrganizerSelection(organizer._id)}\r\n              />\r\n              <span>\r\n                {organizer.fullName} ({organizer.email})\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <button type=\"submit\" className=\"submit-button\" disabled={loading}>\r\n          {loading ? t('eventsTab.alerts.loading') : t(editEventId ? 'eventsTab.form.submit.update' : 'eventsTab.form.submit.create')}\r\n        </button>\r\n      </form>\r\n\r\n      <h2 className=\"tab-title\">{t('eventsTab.title.existing')}</h2>\r\n      {Array.isArray(events) ? (\r\n        <ul className=\"events-list\">\r\n          {events.map((event) => (\r\n            <li key={event._id} className=\"event-item\">\r\n              <img\r\n                src={event.image || '/default-image.jpg'}\r\n                alt={event.name}\r\n                style={{ width: '100px', height: '100px', objectFit: 'cover' }}\r\n              />\r\n              <h3>{event.name}</h3>\r\n              <p>\r\n                {t('eventsTab.event.currency')}: {event.currency}\r\n              </p>\r\n              <button onClick={() => handleEditEvent(event)} className=\"edit-button\">\r\n                {t('eventsTab.actions.edit')}\r\n              </button>\r\n              <button onClick={() => handleDeleteEvent(event._id)} className=\"delete-button\">\r\n                {t('eventsTab.actions.delete')}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <p>{t('eventsTab.alerts.noEvents')}</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EventsTab;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}